# é–‹ç™¼å·¥ä½œæµç¨‹ (Development Workflow)

## ğŸ“‹ åˆ†æ”¯çµæ§‹

### Main Branch (ä¸»åˆ†æ”¯)
- **åˆ†æ”¯åç¨±**: `main`
- **é‹è¡Œç«¯å£**: `3008`
- **å•Ÿå‹•è…³æœ¬**: `./start-main.sh`
- **ç”¨é€”**: ç”Ÿç”¢ç’°å¢ƒç©©å®šç‰ˆæœ¬
- **è¨ªå•**: http://localhost:3008 æˆ– https://hackathon.com.tw

### Dev Branch (é–‹ç™¼åˆ†æ”¯)
- **åˆ†æ”¯åç¨±**: `dev`
- **é‹è¡Œç«¯å£**: `3009`
- **å•Ÿå‹•è…³æœ¬**: `./start-dev.sh`
- **ç”¨é€”**: é–‹ç™¼å’Œæ¸¬è©¦æ–°åŠŸèƒ½
- **è¨ªå•**: http://localhost:3009

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å•Ÿå‹• Main Branch (ç«¯å£ 3008)
```bash
# åˆ‡æ›åˆ° main åˆ†æ”¯
git checkout main

# å•Ÿå‹•æœå‹™
./start-main.sh
```

### å•Ÿå‹• Dev Branch (ç«¯å£ 3009)
```bash
# åˆ‡æ›åˆ° dev åˆ†æ”¯
git checkout dev

# å•Ÿå‹•æœå‹™
./start-dev.sh
```

---

## ğŸ”„ é–‹ç™¼æµç¨‹

### 1. åœ¨ Dev åˆ†æ”¯é–‹ç™¼æ–°åŠŸèƒ½
```bash
# ç¢ºä¿åœ¨ dev åˆ†æ”¯
git checkout dev

# æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull origin dev

# é–‹å§‹é–‹ç™¼...
# ä¿®æ”¹ä»£ç¢¼ã€æ¸¬è©¦åŠŸèƒ½

# æäº¤æ›´æ”¹
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# æ¨é€åˆ°é ç«¯
git push origin dev
```

### 2. æ¸¬è©¦ Dev åˆ†æ”¯
```bash
# æ§‹å»º
npm run build

# å•Ÿå‹• dev æœå‹™å™¨ï¼ˆç«¯å£ 3009ï¼‰
./start-dev.sh

# è¨ªå• http://localhost:3009 é€²è¡Œæ¸¬è©¦
```

### 3. ç¢ºèªç„¡èª¤å¾Œï¼Œè«‹æ±‚åˆä½µåˆ° Main
âš ï¸ **é‡è¦**: åªæœ‰åœ¨ Dev åˆ†æ”¯æ¸¬è©¦å®Œå…¨é€šéå¾Œï¼Œæ‰è«‹æ±‚åˆä½µåˆ° Mainï¼

```bash
# å‘Šè¨´ AIï¼š
"dev åˆ†æ”¯æ¸¬è©¦å®Œæˆï¼Œè«‹åˆä½µåˆ° main"
```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### ğŸš« çµ•å°ä¸è¦åˆä½µåˆ° Main çš„å…§å®¹
- âŒ `start-dev.sh` - Dev å•Ÿå‹•è…³æœ¬
- âŒ ç«¯å£ 3009 çš„ä»»ä½•é…ç½®
- âŒ Dev å°ˆç”¨çš„æ¸¬è©¦ä»£ç¢¼ï¼ˆé™¤éç¢ºå®šè¦ä¸Šç·šï¼‰

### âœ… å¯ä»¥åˆä½µåˆ° Main çš„å…§å®¹
- âœ… æ–°åŠŸèƒ½ä»£ç¢¼
- âœ… Bug ä¿®å¾©
- âœ… UI/UX æ”¹é€²
- âœ… æ–‡æª”æ›´æ–°
- âœ… é€šéæ¸¬è©¦çš„æ‰€æœ‰æ›´æ”¹

---

## ğŸ“ åˆä½µæµç¨‹

### AI åŸ·è¡Œçš„åˆä½µæ­¥é©Ÿï¼ˆåƒ…åœ¨ç”¨æˆ¶ç¢ºèªå¾ŒåŸ·è¡Œï¼‰

```bash
# 1. åˆ‡æ›åˆ° main åˆ†æ”¯
git checkout main

# 2. æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull origin main

# 3. åˆä½µ dev åˆ†æ”¯ï¼ˆæ’é™¤ç«¯å£é…ç½®ï¼‰
git merge dev --no-commit

# 4. æª¢æŸ¥ä¸¦æ’é™¤ start-dev.sh
git reset HEAD start-dev.sh
git checkout -- start-dev.sh

# 5. ç¢ºèªæ›´æ”¹ç„¡èª¤
git status

# 6. æäº¤åˆä½µ
git commit -m "merge: åˆä½µ dev åˆ†æ”¯åˆ° main"

# 7. æ¨é€åˆ°é ç«¯
git push origin main

# 8. åˆ‡å› dev åˆ†æ”¯ç¹¼çºŒé–‹ç™¼
git checkout dev
```

---

## ğŸ” å¥åº·æª¢æŸ¥

### Main Branch (3008)
```bash
curl http://localhost:3008/api/health
```

### Dev Branch (3009)
```bash
curl http://localhost:3009/api/health
```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„é€²ç¨‹
lsof -i :3008
lsof -i :3009

# æ®ºæ­»é€²ç¨‹
kill -9 <PID>
```

### ç„¡æ³•åˆ‡æ›åˆ†æ”¯
```bash
# ä¿å­˜ç•¶å‰æ›´æ”¹
git stash

# åˆ‡æ›åˆ†æ”¯
git checkout <branch-name>

# æ¢å¾©æ›´æ”¹
git stash pop
```

### æ§‹å»ºå¤±æ•—
```bash
# æ¸…é™¤ç·©å­˜
rm -rf .next

# é‡æ–°æ§‹å»º
npm run build
```

---

## ğŸ“Š åˆ†æ”¯ç‹€æ…‹ç›£æ§

### æŸ¥çœ‹ç•¶å‰åˆ†æ”¯
```bash
git branch --show-current
```

### æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
```bash
git branch -a
```

### æŸ¥çœ‹åˆ†æ”¯å·®ç•°
```bash
# æŸ¥çœ‹ dev èˆ‡ main çš„å·®ç•°
git diff main..dev
```

---

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **å§‹çµ‚åœ¨ Dev åˆ†æ”¯é–‹ç™¼**
   - æ‰€æœ‰æ–°åŠŸèƒ½ã€ä¿®æ”¹éƒ½åœ¨ dev åˆ†æ”¯é€²è¡Œ
   - æ¸¬è©¦é€šéå¾Œæ‰åˆä½µåˆ° main

2. **å®šæœŸåŒæ­¥**
   - Dev åˆ†æ”¯å®šæœŸå¾ Main æ‹‰å–æœ€æ–°ä»£ç¢¼
   - é¿å…åˆ†æ”¯å·®ç•°éå¤§

3. **å°æ­¥å¿«è·‘**
   - æ¯å€‹åŠŸèƒ½é–‹ç™¼å®Œæˆå¾Œç«‹å³æ¸¬è©¦
   - æ¸¬è©¦é€šéå¾Œå„˜å¿«åˆä½µåˆ° main

4. **ä¿æŒ Main ç©©å®š**
   - Main åˆ†æ”¯å§‹çµ‚ä¿æŒå¯éƒ¨ç½²ç‹€æ…‹
   - çµ•ä¸ç›´æ¥åœ¨ main åˆ†æ”¯é–‹ç™¼

5. **ä½¿ç”¨ç‰ˆæœ¬æ¨™ç±¤**
   - é‡è¦æ›´æ–°åˆä½µåˆ° main å¾Œæ‰“æ¨™ç±¤
   - ä¾‹å¦‚: v4.3, v4.4

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°ä»»ä½•å•é¡Œï¼Œè«‹å‘Šè¨´ AIï¼š
- "dev åˆ†æ”¯æœ‰å•é¡Œ"
- "ç„¡æ³•å•Ÿå‹• dev æœå‹™å™¨"
- "éœ€è¦å›æ»¾ dev åˆ†æ”¯"
- "æº–å‚™åˆä½µ dev åˆ° main"

---

**æœ€å¾Œæ›´æ–°**: 2025-10-13  
**ç•¶å‰ç‰ˆæœ¬**: v4.2

