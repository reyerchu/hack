# æª¢æŸ¥è¨»å†ŠéŒ¯èª¤æŒ‡å—

## ğŸ“‹ å¯èƒ½çš„éŒ¯èª¤åŸå› 

### 1. **Firebase Admin SDK æœªåˆå§‹åŒ–**

æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¨­å®šï¼š
```bash
# æª¢æŸ¥ .env.local æ–‡ä»¶
cat .env.local | grep SERVICE_ACCOUNT
```

æ‡‰è©²åŒ…å«ï¼š
- `SERVICE_ACCOUNT_PROJECT_ID`
- `SERVICE_ACCOUNT_CLIENT_EMAIL`
- `SERVICE_ACCOUNT_PRIVATE_KEY`

### 2. **è©²å¸³è™Ÿå·²ç¶“è¨»å†Šé**

éŒ¯èª¤è¨Šæ¯ï¼šã€ŒProfile already existsã€

è§£æ±ºæ–¹æ¡ˆï¼š
- ä½¿ç”¨ä¸åŒçš„ email
- æˆ–åœ¨ Firebase Console ä¸­åˆªé™¤èˆŠçš„è¨»å†Šè¨˜éŒ„

### 3. **Firebase Firestore æ¬Šé™å•é¡Œ**

ç¢ºä¿ Firestore è¦å‰‡å…è¨±å¯«å…¥ï¼š
- è¨ªå• Firebase Console â†’ Firestore Database â†’ Rules
- æª¢æŸ¥æ˜¯å¦å…è¨±å¯«å…¥ `registrations` collection

### 4. **ç¶²è·¯æˆ– Firebase é€£ç·šå•é¡Œ**

æª¢æŸ¥ï¼š
- Firebase å°ˆæ¡ˆç‹€æ…‹
- ç¶²è·¯é€£ç·š
- Firebase quota æ˜¯å¦ç”¨å®Œ

## ğŸ”§ æª¢æŸ¥æ—¥èªŒ

### æŸ¥çœ‹æœå‹™å™¨æ—¥èªŒ

```bash
# æŸ¥çœ‹æœ€è¿‘çš„æ—¥èªŒ
pm2 logs --lines 50
```

æˆ–å¦‚æœä½¿ç”¨ npm startï¼š
```bash
# æ—¥èªŒæœƒåœ¨å•Ÿå‹•æœå‹™çš„çµ‚ç«¯é¡¯ç¤º
```

å°‹æ‰¾ä»¥ä¸‹è¨Šæ¯ï¼š
- âœ… `Successfully created profile for user: [user-id]`
- âŒ `Profile already exists for user: [user-id]`
- âŒ `Error creating application: [error details]`
- âŒ `Could not parse request JSON body`

## ğŸ“Š åœ¨ Firebase Console æª¢æŸ¥

### æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦æˆåŠŸè¨»å†Š

1. è¨ªå• Firebase Console
2. é€²å…¥ Firestore Database
3. æŸ¥çœ‹ `registrations` collection
4. æœå°‹å°æ‡‰çš„ user ID æˆ– email

### æª¢æŸ¥ Authentication

1. Firebase Console â†’ Authentication
2. æŸ¥çœ‹ Users åˆ—è¡¨
3. ç¢ºèª `reyerchu@gmail.com` æ˜¯å¦å­˜åœ¨
4. æª¢æŸ¥ email æ˜¯å¦å·²é©—è­‰

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

1. **æ¸…é™¤èˆŠè³‡æ–™ï¼ˆå¦‚æœéœ€è¦ï¼‰**
   - å¾ Firestore çš„ `registrations` collection åˆªé™¤èˆŠè¨˜éŒ„
   - å¾ `miscellaneous/allusers` ä¸­ç§»é™¤ç”¨æˆ¶

2. **ç¢ºä¿ç”¨æˆ¶å·²ç™»å…¥**
   - è¨ªå• `/auth` é é¢
   - ä½¿ç”¨ Google æˆ– Email/Password ç™»å…¥
   - ç¢ºèª email å·²é©—è­‰

3. **å¡«å¯«è¨»å†Šè¡¨å–®**
   - è¨ªå• `/register`
   - å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼ˆæ¨™è¨˜ * çš„ï¼‰
   - ç‰¹åˆ¥æ³¨æ„ï¼šæ€§åˆ¥ï¼ˆGenderï¼‰æ˜¯å¿…å¡«çš„

4. **æäº¤ä¸¦æª¢æŸ¥**
   - é»æ“Šã€Œæäº¤ã€
   - å¦‚æœæˆåŠŸï¼šæœƒçœ‹åˆ°ã€Œè¨»å†ŠæˆåŠŸï¼ã€ä¸¦è·³è½‰åˆ° profile é é¢
   - å¦‚æœå¤±æ•—ï¼šæœƒé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯

## ğŸ› å¸¸è¦‹éŒ¯èª¤åŠè§£æ±ºæ–¹æ¡ˆ

### éŒ¯èª¤ï¼šã€Œè¨»å†Šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€

**å¯èƒ½åŸå› **ï¼š
1. Firebase Admin SDK æœªåˆå§‹åŒ–
2. Firestore å¯«å…¥å¤±æ•—
3. ç¶²è·¯å•é¡Œ

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
2. æŸ¥çœ‹æœå‹™å™¨æ—¥èªŒç²å–è©³ç´°éŒ¯èª¤
3. ç¢ºèª Firebase å°ˆæ¡ˆç‹€æ…‹

### éŒ¯èª¤ï¼šã€Œè¡¨å–®ä¸­æœ‰ç„¡æ•ˆçš„æ¬„ä½ã€

**åŸå› **ï¼šè¡¨å–®é©—è­‰å¤±æ•—

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- ç¢ºä¿æ‰€æœ‰å¿…å¡«æ¬„ä½éƒ½å·²å¡«å¯«
- æª¢æŸ¥ email æ ¼å¼æ˜¯å¦æ­£ç¢º
- ç¢ºèªæ‰€æœ‰ä¸‹æ‹‰é¸å–®éƒ½å·²é¸æ“‡

### éŒ¯èª¤ï¼šã€ŒProfile already existsã€

**åŸå› **ï¼šè©²ç”¨æˆ¶å·²ç¶“è¨»å†Šé

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç›´æ¥è¨ªå• `/profile` æŸ¥çœ‹ç¾æœ‰è³‡æ–™
2. æˆ–åœ¨ Firebase Console ä¸­åˆªé™¤èˆŠè¨˜éŒ„å¾Œé‡æ–°è¨»å†Š

## ğŸ“ ç²å–å¹«åŠ©

å¦‚æœå•é¡ŒæŒçºŒï¼Œè«‹æä¾›ï¼š
1. ä½¿ç”¨çš„ email
2. çœ‹åˆ°çš„å…·é«”éŒ¯èª¤è¨Šæ¯
3. ç€è¦½å™¨ Console çš„éŒ¯èª¤ï¼ˆæŒ‰ F12 æŸ¥çœ‹ï¼‰
4. æœå‹™å™¨æ—¥èªŒçš„ç›¸é—œå…§å®¹

